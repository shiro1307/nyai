{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>Document Details</h2>
    
    <div style="background: #f4f4f9; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
        <p><strong>Type:</strong> {{ document.type }}</p>
        <p><strong>Date:</strong> {{ document.date }}</p>
        
        {% if document.get('risk_score') is not none %}
        <p><strong>Risk Assessment:</strong> 
            {% if document.get('risk_score') <= 30 %}
                <span style="background: #28a745; color: white; padding: 6px 15px; border-radius: 15px; font-weight: bold; font-size: 1.1rem;">
                    {{ document.get('risk_score') }}/100 - Low Risk âœ“
                </span>
            {% elif document.get('risk_score') <= 60 %}
                <span style="background: #ffc107; color: #333; padding: 6px 15px; border-radius: 15px; font-weight: bold; font-size: 1.1rem;">
                    {{ document.get('risk_score') }}/100 - Medium Risk âš 
                </span>
            {% else %}
                <span style="background: #dc3545; color: white; padding: 6px 15px; border-radius: 15px; font-weight: bold; font-size: 1.1rem;">
                    {{ document.get('risk_score') }}/100 - High Risk âš 
                </span>
            {% endif %}
        </p>
        {% endif %}
    </div>
    
    <hr>
    
    <h3>Input:</h3>
    <pre>{{ document.input }}</pre>
    
    <hr>
    
    <h3>Analysis Output:</h3>
    <pre>{{ document.output }}</pre>
    
    <hr>
    
    <p>
        <a href="{{ url_for('history') }}" class="btn" style="background: #6c757d;">â† Back to History</a>
        <a href="{{ url_for('export_pdf', doc_id=document['doc_id']) }}" class="btn" style="background: #28a745;">ğŸ“„ Export PDF</a>
        <a href="{{ url_for('delete_document', doc_id=document['doc_id']) }}" 
           class="btn" style="background: #dc3545;"
           onclick="return confirm('Are you sure you want to delete this document?')">ğŸ—‘ Delete</a>
    </p>
</div>
{% endblock %}